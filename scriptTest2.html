<html>
<script type="text/javascript">
String.prototype.isWhitesTurn = function hash() {
	return (this[73] === '1');
};
	
var gamestate = "RNBQKBNR;PPPPPPPP;________;________;________;________;pppppppp;rnbqkbnr;11111__"
var defaultExtendedState = null;

function getPiece2(board, coordinate){

	// Rows are enumerated 'backwards' and are 9 chars long due to colon seperator.
	// Cols are determined by the leading letter. This formula converts a char into its corresponding integer from 0-7
	var index = 9 * (8 - coordinate[1]) + coordinate.charCodeAt(0) - 97;

	return board[index];
}
function isEnemyPiece(piece){
	if(piece === "_") {return false;}
	
	var isWhitePiece  = (piece == piece.toLowerCase());
	return !(isWhitePiece === gamestate.isWhitesTurn());
}
function isEnemyPiece2(piece){
	if(piece === "_") {return false;}
	

	return !((piece == piece.toLowerCase()) === gamestate.isWhitesTurn());
}



var possCoords = 'a3';

// This tests perfocmance of getting piece twice
var t1 = performance.now();
var i = 0;
while(i<1000000)
{
	isEnemyPiece('a1');
	i++;
}
console.log( performance.now() - t1 );
var t2 = performance.now();
i = 0;
while(i<1000000)
{	
	isEnemyPiece2('a1');
	i++;
}


console.log( performance.now() - t2 );
</script>
</html>
